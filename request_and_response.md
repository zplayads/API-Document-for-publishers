# API 对接文档协议

- [API 对接文档协议](#api-%e5%af%b9%e6%8e%a5%e6%96%87%e6%a1%a3%e5%8d%8f%e8%ae%ae)
  - [文档说明](#%e6%96%87%e6%a1%a3%e8%af%b4%e6%98%8e)
  - [文档更新记录](#%e6%96%87%e6%a1%a3%e6%9b%b4%e6%96%b0%e8%ae%b0%e5%bd%95)
  - [接入准备](#%e6%8e%a5%e5%85%a5%e5%87%86%e5%a4%87)
  - [广告获取流程](#%e5%b9%bf%e5%91%8a%e8%8e%b7%e5%8f%96%e6%b5%81%e7%a8%8b)
  - [接入说明](#%e6%8e%a5%e5%85%a5%e8%af%b4%e6%98%8e)
    - [请求 URL](#%e8%af%b7%e6%b1%82-url)
    - [通信方式及编码](#%e9%80%9a%e4%bf%a1%e6%96%b9%e5%bc%8f%e5%8f%8a%e7%bc%96%e7%a0%81)
    - [请求头](#%e8%af%b7%e6%b1%82%e5%a4%b4)
    - [Request 信息](#request-%e4%bf%a1%e6%81%af)
      - [app 对象信息](#app-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
      - [Device 对象信息](#device-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Screen 对象信息](#screen-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Geo 对象信息](#geo-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
      - [User 对象信息](#user-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [ext 对象信息](#ext-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
      - [Ad 对象信息](#ad-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Banner 对象信息](#banner-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Native 对象信息](#native-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
          - [Asset 对象信息](#asset-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Video 对象信息](#video-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
      - [Regs 对象信息](#regs-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [ext 对象信息](#ext-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af-1)
    - [Response 返回信息](#response-%e8%bf%94%e5%9b%9e%e4%bf%a1%e6%81%af)
      - [Ad 对象信息](#ad-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af-1)
        - [Video 对象信息](#video-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af-1)
        - [Native 对象信息](#native-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af-1)
        - [Asset 对象信息](#asset-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af-1)
          - [Image 对象信息](#image-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
          - [Title 对象信息](#title-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
          - [Data 对象信息](#data-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
        - [Link 对象信息](#link-%e5%af%b9%e8%b1%a1%e4%bf%a1%e6%81%af)
      - [附件](#%e9%99%84%e4%bb%b6)
        - [宏参数](#%e5%ae%8f%e5%8f%82%e6%95%b0)
        - [应用类别](#%e5%ba%94%e7%94%a8%e7%b1%bb%e5%88%ab)

## 文档说明

此文档仅供开发者与 ZPLAY Ads 平台使用 API 方法对接时使用。在开始本文档的阅读和开发之前，请先了解接入中的注意事项，详见[接入时的检查清单](check_list.md)。

## 文档更新记录

| 版本 | 作者      | 时间       | 备注                                                                                            |
| ---- | --------- | ---------- | ----------------------------------------------------------------------------------------------- |
| v1.0 | ZPLAY Ads | 2018.09.20 | 创建                                                                                            |
| v1.1 | ZPLAY Ads | 2019.3.1   | Response 中增加 Video 对象及 adm 字段，按照 Json 及 VAST 协议返回视频广告信息，支持视频物料投放 |
| v1.2 | ZPLAY Ads | 2020.02.24 | Request请求Device对象增加`oaid`参数字段 |

## 接入准备

在 开发者 和 ZPLAY Ads 平台 商务人员沟通后，由 ZPLAY Ads 平台商务人员提供 开发者 “账号 ID”和相应的 “Token” 信息。

## 广告获取流程

在用户访问开发者的应用，产生广告曝光机会时，开发者 向 ZPLAY Ads 平台 按照该文档约定的格式发起广告请求，ZPLAY Ads 平台根据开发者的请求信息，返回符合该文档规范的响应信息，开发者将 ZPLAY Ads 平台返回的广告展示给用户。

## 接入说明

### 请求 URL

当需要请求广告时，发送一个 HTTP POST 请求到下面的地址： pa-engine.zplayads.com/v1/api/ads

### 通信方式及编码

ZPLAY Ads 和 开发者 之间的基础通信协议采用 HTTP 协议、POST 方法，数据使用 JSON 格式，编码采用 UTF-8 编码。

### 请求头

| http 头信息段   | 说明                                                                                                                                                                                                            |
| --------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| X-Forwarded-For | 包含客户端真正的请求地址，例：“8.8.8.8”。如果通过服务端对接，请务必传递客户端的地址，使用服务器地址会被视为作弊流量屏蔽                                                                                         |
| User-Agent      | 移动设备的 User-Agent，从服务端使用非真实 User-Agent 会被视为问题流量。例：“Mozilla/5.0 (iPad; CPU OS 5_0 like Mac OS X)， AppleWebKit/534.46 (KHTML， like Gecko)， Version/5.1 Mobile/9A334 Safari/7534.48.3” |

### Request 信息

| 字段名称         | 类型     | 必须 | 描述                                                                                                                                       |
| ---------------- | -------- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| version          | string   | 是   | 协议版本，当前版本号 1.1                                                                                                                   |
| developer_token  | string   | 是   | 开发者 token，由 ZPLAY Ads 平台商务人员提供                                                                                                |
| need_https       | int      | 否   | 是否需要 https 链接的标识，默认为 0。0 标识不需要，1 标识需要。当为 1 时，指的是开发者 要求返回的所有素材及追踪链接必须是 https 链接       |
| support_function | int      | 是   | 是否支持 [接入时的检查清单](/check_list.md) 第三部分中关闭事件和点击事件；1：不支持，2：支持；若不支持需要接入时自行处理关闭事件和点击事件 |
| app              | 对象     | 是   | APP 对象信息                                                                                                                               |
| device           | 对象     | 是   | 设备信息                                                                                                                                   |
| user             | 对象     | 否   | 用户信息                                                                                                                                   |
| ads              | 对象数组 | 是   | 广告信息数组                                                                                                                               |
| regs             | 对象     | 否   | 用来说明此请求所要求的的行业、政府等法律法规，可在此对象中设置请求中 GDPR 的属性                                                           |

#### app 对象信息

| 字段类型  | 类型   | 必须 | 描述                                                                                                                                      |
| --------- | ------ | ---- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| app_id    | string | 是   | 应用 ID，请提前将您的应用注册到 [ZPLAY Ads 平台](https://www.zplayads.com)，该 ID 为注册后平台生成的应用 ID                               |
| app_name  | string | 否   | 应用名称，如果填写，请确保与注册到[ZPLAY Ads 平台](https://www.zplayads.com)的应用名称保持一致                                            |
| bundle_id | string | 是   | 对于 Android，是应用的 packageName；对于 iOS，是 Bundle ID                                                                                |
| version   | string | 否   | 应用版本号                                                                                                                                |
| cat       | string | 否   | 应用类别，如“Action”，内容详见[应用类别](#应用类别)，如果填写，请确保与注册到[ZPLAY Ads 平台](https://www.zplayads.com)的应用分类保持一致 |

#### Device 对象信息

| 字段名称        | 类型   | 必须 | 描述                                                                                                                                       |
| --------------- | ------ | ---- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| model           | string | 是   | 设备型号                                                                                                                                   |
| manufacturer    | string | 否   | 生产厂商，例如：“Samsung”                                                                                                                  |
| brand           | string | 否   | 手机品牌，例如：“MI4”                                                                                                                      |
| plmn            | string | 否   | 国家运营商编号，例如：“46000”                                                                                                              |
| device_type     | string | 是   | 设备类型，“phone”，“tablet”                                                                                                                |
| dnt             | int    | 否   | 是否允许通过追踪用户行为进行定向投放，0：允许，1：不允许，默认为 0                                                                         |
| connection_type | string | 是   | 网络类型，空串表示未知，值为 wifi，2g，3g，4g，ethernet，cell_unknown                                                                      |
| carrier         | string | 否   | 运营商，如：“中国移动”，“中国联通”，“中国电信”，“未知”等                                                                                   |
| orientation     | int    | 否   | 设备方向，“0”为横屏，“1”为竖屏                                                                                                             |
| mac             | string | 否   | MAC 地址, md5 散列                                                                                                                         |
| imei            | string | 否   | IMEI 码，md5 散列。iOS 没有                                                                                                                |
| android_id      | string | 否   | Android Device ID，md5 散列。Android 手机不传会影响填充                                                                                    |
| android_adid    | string | 否   | Android Advertising ID                                                                                                                     |
| idfa            | string | 是   | iOS 系统的 idfa                                                                                                                            |
| idfv            | string | 否   | idfv                                                                                                                                       |
| openudid        | string | 否   | openudid                                                                                                                                   |
| language        | string | 是   | 系统语言                                                                                                                                   |
| os_type         | string | 是   | 操作系统类型，值为"iOS"， "Android"                                                                                                        |
| os_version      | string | 是   | 操作系统版本，如 11.4.1，12.0，7.1.0 等，请注意：iOS 的主系统版本为 9.x，10.x，11.x，12.x；Android 的主系统版本为 5.x，6.x，7.x，8.x, 9.x; |
| screen          | 对象   | 是   | 设备的屏幕信息                                                                                                                             |
| geo             | 对象   | 否   | 设备的位置信息                                                                                                                             |
| oaid            | string | 否     | 中国安全联盟定义的国内安卓设备唯一ID标识，iOS无需填写 |

##### Screen 对象信息

| 字段名称 | 类型  | 必须 | 描述                                                                    |
| -------- | ----- | ---- | ----------------------------------------------------------------------- |
| width    | int   | 是   | 水平分辨率，单位：像素                                                  |
| height   | int   | 是   | 纵向分辨率，单位：像素                                                  |
| dpi      | int   | 否   | 像素密度，单位：每英寸像素个数                                          |
| pxratio  | float | 否   | 屏幕物理像素密度，例：iPhone 3 为 1，iPhone 4 为 2，iPhone 6S plus 为 3 |

##### Geo 对象信息

| 字段名称        | 类型   | 必须 | 描述                   |
| --------------- | ------ | ---- | ---------------------- |
| lat             | double | 是   | 纬度                   |
| lon             | double | 是   | 经度                   |
| horizontal_accu | int    | 否   | 水平方向精度，单位：米 |
| vertical_accu   | int    | 否   | 垂直方向精度，单位：米 |

#### User 对象信息

| 字段名称 | 类别   | 必须 | 描述                               |
| -------- | ------ | ---- | ---------------------------------- |
| id       | string | 否   | 用户 id                            |
| gender   | string | 否   | 性别，“M”：男, “F”：女, “O”：其他  |
| age      | int    | 否   | 年龄                               |
| keywords | array  | 否   | 用户感兴趣的关键词                 |
| ext      | 对象   | 否   | 扩展对象，用户是否允许获取设备信息 |

##### ext 对象信息

| 字段名称 | 类型   | 必须 | 描述                                                                              |
| -------- | ------ | ---- | --------------------------------------------------------------------------------- |
| consent  | string | 否   | 此属性规定此请求是否允许获取设备信息，yes：允许获取；no：不允许获取；空：允许获取 |

#### Ad 对象信息

| 字段名称     | 类别   | 必须 | 描述                                                                                                                          |
| ------------ | ------ | ---- | ----------------------------------------------------------------------------------------------------------------------------- |
| unit_type    | int    | 否   | 广告位类型，1：插屏，2：开屏，3：原生，4：视频，9：横幅，当前仅支持横幅、插屏、原生和视频三种类型，类型需与您广告位 ID 类型保持一致 |
| ad_unit_name | string | 是   | 广告位名称，您的广告位在 [ZPLAY Ads 平台](https://www.zplayads.com) 平台注册时填写的名称                                      |
| ad_unit_id   | string | 是   | 广告位 id，请提前将您的广告位注册到 [ZPLAY Ads 平台](https://www.zplayads.com) ，该 ID 为注册后生成的 ID                      |
| banner       | 对象   | 否   | banner 广告位信息，当广告位是 banner 广告位时，必须填写                         |
| native       | 对象   | 否   | 原生广告位信息，当广告位是原生广告位时，必须填写；当广告位为 banner、激励视频和插屏时，必须不填写                             |
| video        | 对象   | 否   | 视频物料信息，当广告位支持视频物料投放时，请填写                                                                              |

##### Banner 对象信息

| 字段名称 | 类型        | 必须 | 描述                                                                |
| -------- | ----------- | ---- | ------------------------------------------------------------------- |
| w        | int         | 是   | 广告宽度，单位为像素                                                |
| h        | int         | 是   | 广告高度，单位为像素                                                |
| wmax     | int         | 否   | 广告最大宽度，单位为像素                                            |
| hmax     | int         | 否   | 广告最大高度，单位为像素                                            |
| wmin     | int         | 否   | 广告最小宽度，单位为像素                                            |
| hmin     | int         | 否   | 广告最小高度，单位为像素                                            |
| pos      | int         | 否   | 广告位位置，1：未知；4：屏幕顶部；5：屏幕底部；6：屏幕侧边；7：全屏 |
| mimes    | string 数组 | 是   | 请填写您支持的物料格式，目前仅支持"text/html"                       |
| api      | int 数组    | 否   | 开发者支持的物料协议，目前仅支持 5：MRAID-2                       |

##### Native 对象信息

| 字段名称 | 类型       | 必须 | 描述                                                                                                                   |
| -------- | ---------- | ---- | ---------------------------------------------------------------------------------------------------------------------- |
| layout   | int        | 否   | 原生广告类型，1： 内容墙， 2： 应用墙，3：新闻流，4：聊天列表，5：走马灯广告，6：内容流，7：矩阵                       |
| assets   | Asset 数组 | 是   | 原生广告元素列表，当前有 5 种元素，分别为标题 (title)， Icon(img)， Large image (img)，Description (data)，得分 (data) |

###### Asset 对象信息

| 字段名称 | 类型 | 必须 | 描述                                         |
| -------- | ---- | ---- | -------------------------------------------- |
| id       | int  | 是   | 广告元素 id                                  |
| required | int  | 否   | 广告元素是否必须，1：必须，0：可选，默认为 0 |
| title    | 对象 | 否   | 文字元素                                     |
| image    | 对象 | 否   | 图像元素                                     |
| data     | 对象 | 否   | 其他数据元素                                 |

> image，title，data 这三个元素，一个 asset 只能存在一个

**Image 对象信息**

| 字段名称 | 类型 | 必须 | 描述                                                                                                                                                                                           |
| -------- | ---- | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type     | int  | 是   | image 元素的类型，1：图标，2：品牌 Logo，3：大图，4：“免安装试玩”按钮，当用户点击“免安装试玩”按钮时，请将 response.ads 中的 playable_ads_html 加载到 webview 中。 请求时必须包含免安装试玩按钮 |
| width    | int  | 是   | image 元素的宽度，单位为像素                                                                                                                                                                   |
| height   | int  | 是   | image 元素的高度，单位为像素                                                                                                                                                                   |

**Title 对象信息**

| 字段名称 | 类型 | 必须 | 描述                   |
| -------- | ---- | ---- | ---------------------- |
| len      | int  | 是   | title 元素最大文字长度 |

**Data 对象信息**

| 字段名称 | 类型 | 必须 | 描述                                                                                                                                                                                                                                        |
| -------- | ---- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type     | int  | 是   | 数据类型 1：Sponsor 名称，应该包含品牌名称，2：描述，3：打分，4：点赞个数，5：下载个数，6： 产品价格，7：销售价格，往往和前者结合，表示折扣价，8：电话，9：地址，10：描述 2，11：显示的链接，12：行动按钮名称，1001：视频 url，1002：评论数 |
| len      | int  | 是   | 元素最大文字长度                                                                                                                                                                                                                            |

##### Video 对象信息

| 字段名称    | 类型 | 必须 | 描述                                                                          |
| ----------- | ---- | ---- | ----------------------------------------------------------------------------- |
| mimes       | 数组 | 是   | 填写您支持的视频格式，如"video/mp4"，目前 ZPLAY Ads 只支持 MP4 格式 |
| minduration | int  | 否   | 视频最短时长，单位为秒                                                        |
| maxduration | int  | 否   | 视频最长时长，单位为秒                                                        |
| protocols   | 数组 | 否   | 若不支持 VAST 协议，不传此字段；若支持 VAST 协议，数组中为 VAST 协议版本[3,6] |
| w           | int  | 否   | 视频宽度，如 1280                                                             |
| h           | int  | 否   | 视频高度，如 720                                                              |
| startdelay  | int  | 否   | 0：前贴；-1：中贴；-2：后贴；>0：中贴开始播放的时间                           |
| linearity   | int  | 否   | 1：in-stream 广告；2：overlay 广告，ZPLAY Ads 目前仅支持 1                    |
| minbitrate  | int  | 否   | 最小视频比特率，单位 Kbps                                                     |
| maxbitrate  | int  | 否   | 最大视频比特率，单位 Kbps                                                     |
| pos         | int  | 是   | 广告位位置，1：未知；4：屏幕顶部；5：屏幕底部；6：屏幕侧边；7：全屏           |
| ext         | 对象 | 否   |                                                                               |

#### Regs 对象信息

| 字段名称 | 类型 | 必须 | 描述                                                                       |
| -------- | ---- | ---- | -------------------------------------------------------------------------- |
| coppa    | int  | 否   | 标记此请求是否符合美国 FTC 所制定的的 COOPA 协议，0：不遵守，1：遵守       |
| ext      | 对象 | 否   | 此对象用于传输此请求对行业、政府等法律法规，可在此字段设置请求中 GDPR 属性 |

##### ext 对象信息

| 字段名称 | 类型 | 必须 | 描述                                                                         |
| -------- | ---- | ---- | ---------------------------------------------------------------------------- |
| gdpr     | int  | 否   | 此属性规定此请求是否需要遵守欧盟 GDPR 协议，0：不遵守；1：遵守；空：默认不遵守 |

### Response 返回信息

| 字段名称 | 类型        | 必须 | 描述                                                                                                                                                                     |
| -------- | ----------- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| result   | int         | 是   | 返回结果，0：成功，小于 0 表示失败                                                                                                                                       |
| msg      | string      | 否   | 失败的话，会填写失败原因，例："网络错误"，在这里列出具体的原因                                                                                                           |
| ads      | ad 对象数组 | 否   | 如果失败，或者无对应广告则无此数据                                                                                                                                       |
| cur      | string      | 否   | 广告价格货币类型，如“CNY”或“USD”。若 Ad 对象中 price 为空时此字段为空；若 price 有值，此字段为货币类型，遵循 [ISO-4217 货币标准](https://zh.wikipedia.org/wiki/ISO_4217) |

#### Ad 对象信息

| 字段名称          | 类型   | 必须 | 描述                                                                                                                                                                                                                                                                   |
| ----------------- | ------ | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                | string | 是   | 广告 id                                                                                                                                                                                                                                                                |
| ad_unit_id        | string | 是   | 广告位 id，与 request 中的 ad_unit_id 对应                                                                                                                                                                                                                             |
| app_bundle        | string | 是   | 对于 Android，是应用的 packageName；对于 iOS，是 iTunes ID ，请监听可玩广告的下载事件，在监听到时在 APP 内部打开 APP Store 或者 Google Play，并打开跳转链接                                                                                                            |
| store_bundle      | string | 否   | 应用商店包名；对于 iOS，此字段为空；对于 Android，此字段为推广应用上架的应用商店包名，您可以根据此包名打开对应的应用商店                                                                                                                                               |
| playable_ads_html | string | 否   | 可玩广告的 html 代码，请确保使用应用内的 webview 中打开。如果请求中 video 对象有值，则此字段为空                                                                                                                                                                       |
| adm               | string | 否   | 若请求中 video 对象有值，且支持 VAST 协议时，此字段有值；当请求中banner对象有值时，此字段返回物料内容；                                                                                                                                                                                                                |
| target_url        | string | 是   | 可玩广告的跳转地址                                                                                                                                                                                                                                                     |
| target_url_type   | int    | 否   | 打开可玩广告跳转地址时的打开方式，1：在 app 内 webview 打开目标链接，2：在系统浏览器打开目标链接，3：打开地图，4：拨打电话，5：播放视频，6：打开应用市场，请确保在应用内打开 APP Store 或者 Google Play，7：下载安装包。若请求中 support_function 字段为 1，此字段为空 |
| imp_tracker       | 数组   | 否   | 若此字段有值，请务必在可玩广告开始展示时上报此数组中的所有链接                                                                                                                                                                                                         |
| click_tracker     | 数组   | 否   | 若此字段有值，请务必在可玩广告被点击时上报此数组中的所有链接                                                                                                                                                                                                           |
| close_tracker     | 数组   | 否   | 若此字段有值，请务必在可玩广告被关闭时上报此数组中的所有链接                                                                                                                                                                                                           |
| price             | float  | 否   | 广告价格，若没有该数据则为 0，单位为分                                                                                                                                                                                                                                 |
| video             | 对象   | 否   | 当请求中 video 对象有值，且不支持 VAST 协议时，返回此对象                                                                                                                                                                                                              |
| native            | 对象   | 否   | 原生广告对象，如果广告位类型是原生时，返回此对象                                                                                                                                                                                                                       |

##### Video 对象信息

| 字段名称                   | 类型   | 必须 | 描述                                                         |
| -------------------------- | ------ | ---- | ------------------------------------------------------------ |
| video_url                  | string | 是   | 视频文件下载地址                                             |
| duration                   | int    | 是   | 视频时长，单位为秒                                           |
| mimes                      | string | 是   | 视频格式，如 mp4                                             |
| bitrate                    | int    | 是   | 视频比特率                                                   |
| end_card                   | string | 是   | 视频播放完成后落地页图片下载地址，此图片在视频播放完成后展示 |
| download_start_tracker     | 数组   | 是   | 开始下载时上报                                               |
| download_ended_tracker     | 数组   | 是   | 下载完成时上报                                               |
| start_playing_tracker      | 数组   | 是   | 开始播放时上报                                               |
| pause_tracker              | 数组   | 是   | 视频暂停时上报                                               |
| resume_tracker             | 数组   | 是   | 视频恢复播放时上报                                           |
| end_playing_tracker        | 数组   | 是   | 完成播放时上报                                               |
| end_card_displayed_tracker | 数组   | 是   | 落地页展示时上报                                             |
| video_click_tracker        | 数组   | 是   | 视频播放过程中，点击下载按钮时上报                           |
| end_card_click_tracker     | 数组   | 是   | 落地页点击时上报                                             |
| close_tracker              | 数组   | 是   | 落地页关闭时上报                                             |

##### Native 对象信息

| 字段名称    | 类型           | 必须 | 描述                                                                                                           |
| ----------- | -------------- | ---- | -------------------------------------------------------------------------------------------------------------- |
| assets      | Asset 对象数组 | 是   | 原生广告元素列表，当前主要支持 5 种元素，分别为标题 (title)， 图标(img)， 大图(img)， 描述 (data)，得分 (data) |
| imp_tracker | 数组           | 否   | 展示跟踪地址数组，请务必在原生广告被展示时上报此数组中的所有链接                                               |
| link        | 对象           | 是   | 原生广告的目标链接，默认链接对象，当 assets 中不包括 link 对象时，使用此对象                                   |

##### Asset 对象信息

| 字段名称 | 类型 | 必须 | 描述                                              |
| -------- | ---- | ---- | ------------------------------------------------- |
| id       | int  | 是   | 广告元素 ID                                       |
| required | int  | 否   | 广告元素是否必须显示，1：必须，0：可选， 默认为 0 |
| title    | 对象 | 否   | 文字元素                                          |
| image    | 对象 | 否   | 图像元素                                          |
| data     | 对象 | 否   | 其他数据元素                                      |
| link     | 对象 | 否   | 点击目标链接                                      |

###### Image 对象信息

| 字段名称 | 类型   | 必须 | 描述                         |
| -------- | ------ | ---- | ---------------------------- |
| url      | string | 是   | image url 地址               |
| width    | int    | 否   | image 元素的宽度，单位为像素 |
| height   | int    | 否   | image 元素的宽度，单位为像素 |

###### Title 对象信息

| 字段名称 | 类型   | 必须 | 描述     |
| -------- | ------ | ---- | -------- |
| text     | string | 是   | 标题文字 |

###### Data 对象信息

| 字段名称 | 类型   | 必须 | 描述     |
| -------- | ------ | ---- | -------- |
| label    | string | 否   | 数据名称 |
| value    | string | 是   | 数据正文 |

##### Link 对象信息

| 字段名称        | 类型   | 必须 | 描述                                                                                                                                                                                                                   |
| --------------- | ------ | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| target_url      | string | 是   | 目标链接                                                                                                                                                                                                               |
| app_bundle      | string | 是   | 对于 Android，是应用的 packageName；对于 iOS，是 iTunes ID ，请监听可玩广告安装事件，在监听到时在 APP 内部打开 APP Store 或者 Google Play，并打开跳转链接，监听事件可参考[接入时的检查清单](check_list.md)             |
| click_tracker   | 数组   | 否   | 点击追踪链接，请务必在原生广告被点击时上报此数组中的所有链接                                                                                                                                                           |
| target_url_type | int    | 是   | 打开可玩广告跳转地址时的打开方式，1：在 app 内 webview 打开目标链接，2：在系统浏览器打开目标链接，3：打开地图，4：拨打电话，5：播放视频，6：打开应用市场，请确保在应用内打开 APP Store 或者 Google Play，7：下载安装包 |

#### 附件

##### 宏参数

| 名称       | 描述                                                                                  |
| ---------- | ------------------------------------------------------------------------------------- |
| {progress} | 视频播放进度，单位为 ms ，该参数包含在 video 对象的上报节点中，需要在上报时替换此参数 |
| {click_x} | 广告点击按下的X坐标值，基于广告View左上角计算，该参数包含在点击监测的上报节点中，需要在上报时替换此参数 |
| {click_y} | 广告点击按下的Y坐标值，基于广告View左上角计算，该参数包含在点击监测的上报节点中，需要在上报时替换此参数 |

##### 应用类别

| 中文         | 英文              |
| ------------ | ----------------- |
| 新闻         | News              |
| 图书         | Library           |
| 社交         | Social            |
| 生活         | Life              |
| 财务         | Finance           |
| 娱乐         | Entertain         |
| 教育         | Education         |
| 旅行         | Travel            |
| 导航         | Navigation        |
| 商业         | Business          |
| 工具         | Tool              |
| 效率         | Efficiency        |
| 健康健美     | Fitness           |
| 摄影与录像   | Camera            |
| 商品指南     | Product Guide     |
| 美食佳饮     | Food and Drink    |
| 参考         | Reference         |
| 报刊杂志     | Magazine          |
| 体育         | Sports            |
| 天气         | Weather           |
| 医疗         | Medical Treatment |
| 音乐         | Music             |
| 视频         | Video             |
| 购物         | Shopping          |
| 交通         | Traffic           |
| 动作游戏     | Action Game       |
| 益智解谜     | Puzzle Game       |
| 卡牌游戏     | Card Game         |
| 休闲游戏     | Casual Game       |
| 冒险游戏     | Adventure Game    |
| 角色扮演游戏 | Role-playing Game |
| 策略游戏     | Strategy Game     |
| 街机游戏     | Arcade Game       |
| 儿童游戏     | Kids Game         |
| 竞速游戏     | Racing Game       |
| 聚会游戏     | Family Game       |
| 模拟游戏     | Simulation Game   |
| 体育游戏     | Sports Game       |
| 文字游戏     | Word Game         |
| 问答游戏     | Trivia Game       |
| 音乐游戏     | Music Game        |
| 桌面游戏     | Board Game        |
| 赌场游戏     | Casino Game       |
| 教育游戏     | Education Game    |
